<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.102.1"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Blog of Serhat M. Dündar | Ruby, Rails, Golang, PostgreSQL, AWS, Security</title><meta name=keywords content="Ruby,Rails,Golang,PostgreSQL,AWS,Security"><meta name=description content="A blog-like personal notebook. Here I post things that I would like to visit and read later."><meta name=author content="Serhat M. Dündar"><link rel=canonical href=https://www.serhatdundar.com/><link crossorigin=anonymous href=/assets/css/stylesheet.d7fb4cbf980fe688a21621b06a795933c4e6bb2d4070ec940667af1715d84af2.css integrity="sha256-1/tMv5gP5oiiFiGwanlZM8Tmuy1AcOyUBmevFxXYSvI=" rel="preload stylesheet" as=style><link rel=icon href=https://www.serhatdundar.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.serhatdundar.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.serhatdundar.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.serhatdundar.com/apple-touch-icon.png><link rel=mask-icon href=https://www.serhatdundar.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://www.serhatdundar.com/index.xml><link rel=alternate type=application/json href=https://www.serhatdundar.com/index.json><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-45TXZR4LGJ"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-45TXZR4LGJ",{anonymize_ip:!1})}</script><meta property="og:title" content="Blog of Serhat M. Dündar | Ruby, Rails, Golang, PostgreSQL, AWS, Security"><meta property="og:description" content="A blog-like personal notebook. Here I post things that I would like to visit and read later."><meta property="og:type" content="website"><meta property="og:url" content="https://www.serhatdundar.com/"><meta property="og:image" content="https://www.serhatdundar.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="Blog of Serhat M. Dündar"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.serhatdundar.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Blog of Serhat M. Dündar | Ruby, Rails, Golang, PostgreSQL, AWS, Security"><meta name=twitter:description content="A blog-like personal notebook. Here I post things that I would like to visit and read later."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Blog of Serhat M. Dündar | Ruby, Rails, Golang, PostgreSQL, AWS, Security","url":"https://www.serhatdundar.com/","description":"A blog-like personal notebook. Here I post things that I would like to visit and read later.","thumbnailUrl":"https://www.serhatdundar.com/favicon.ico","sameAs":["https://twitter.com/msdundar","https://github.com/msdundar","https://www.linkedin.com/in/msdundar/","https://www.serhatdundar.com/index.xml"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.serhatdundar.com/ accesskey=h title="Home (Alt + H)"><img src=https://www.serhatdundar.com/apple-touch-icon.png alt=logo aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.serhatdundar.com/tags/ title=tags><span>tags</span></a></li><li><a href=https://www.serhatdundar.com/archives/ title=archives><span>archives</span></a></li><li><a href=https://www.serhatdundar.com/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://www.serhatdundar.com/art/ title=artwork><span>artwork</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Hi there 👋</h1></header><div class=entry-content>Welcome to my blog</div><footer class=entry-footer><div class=social-icons><a href=https://twitter.com/msdundar target=_blank rel="noopener noreferrer me" title=Twitter><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a><a href=https://github.com/msdundar target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://www.linkedin.com/in/msdundar/ target=_blank rel="noopener noreferrer me" title=Linkedin><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a><a href=https://www.serhatdundar.com/index.xml target=_blank rel="noopener noreferrer me" title=Rss><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div></footer></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/securing-webhooks/assets/la-place-de-leglise-1866-johan-barthold-jongkind.jpg alt="La Place de l'Eglise (1866) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Securing webhooks</h2></header><div class=entry-content><p>My team at Cobalt recently released webhooks as part of our integration offerings. Therefore, I had to update my knowledge on the topic, especially on the security part.
In this article, I will focus on the rationale behind some popular webhook security methods and will try to explain them in simple terms.
1. Basics Risks and Measures 1.1. Webhooks can be set to leak data silently Let’s assume you are a webhook provider and an attacker compromises the credentials of one of your clients....</p></div><footer class=entry-footer><span title='2022-09-18 20:10:16 +0200 CEST'>September 18, 2022</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Securing webhooks" href=https://www.serhatdundar.com/posts/securing-webhooks/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/deconstructing-and-understanding-an-ssl-certificate/assets/la-cote-saint-andre-1880-johan-barthold-jongkind.jpg alt="La Cote Saint Andre (1880) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Deconstructing and Understanding an SSL Certificate</h2></header><div class=entry-content><p>Checking SSL certificates on a browser is easy. Just click the green lock icon and you’re good to go. But what if doing the same in a more hacker way? This is where openssl comes into play.
Let’s start by checking the SSL certificate of this website:
openssl s_client -connect www.serhatdundar.com:443 depth=2 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert High Assurance EV Root CA depth=1 C = US, O = DigiCert Inc, OU = www....</p></div><footer class=entry-footer><span title='2022-01-25 07:10:50 +0200 +0200'>January 25, 2022</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Deconstructing and Understanding an SSL Certificate" href=https://www.serhatdundar.com/posts/deconstructing-and-understanding-an-ssl-certificate/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/storing-passwords-in-a-database/assets/road-near-la-cote-saint-andre-1885-johan-barthold-jongkind.jpg alt="Road near La Cote-Saint-Andre (1885) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Storing Passwords in a Database: Hashing, Salts, and Peppers</h2></header><div class=entry-content><p>“How do you store passwords in a database”? A very common question for back-end-oriented interviews. After conducting hundreds of technical interviews on different levels, I can confidently say around 50% of the candidates can’t answer this question. The most common answer I often got is “there is a package/gem/library we use, and it manages the password part”.
Well, yes, frameworks, libraries, and packages cover most of the complexity nowadays, but I don’t accept this as an excuse for not being curious about essentials....</p></div><footer class=entry-footer><span title='2022-01-24 01:30:33 +0200 +0200'>January 24, 2022</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Storing Passwords in a Database: Hashing, Salts, and Peppers" href=https://www.serhatdundar.com/posts/storing-passwords-in-a-database/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/a-primitive-hashing-function-in-go/assets/bords-de-riviere-1868-johan-barthold-jongkind.jpg alt="Bords de riviere (1868) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>A Primitive Hashing Function in Go</h2></header><div class=entry-content><p>Cryptographic hash functions are complex mathematical calculations. Therefore understanding them requires a considerable amount of time and patience. However, they all have things in common: an input, a cryptographic algorithm, and an output.
Recently, I had a chance to study some popular cryptographic hash functions, such as MD5 and SHA-1, and tried to understand how they really work. Wikipedia pages I linked include a considerable amount of information already, and more can be found online, but what I want to do was understand similarities between them and write my own primitive hashing function in Go....</p></div><footer class=entry-footer><span title='2022-01-23 18:30:19 +0200 +0200'>January 23, 2022</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to A Primitive Hashing Function in Go" href=https://www.serhatdundar.com/posts/a-primitive-hashing-function-in-go/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/ssl-tls-handshake-hybrid-encryption/assets/paysage-a-la-cote-saint-andre-1886-johan-barthold-jongkind.jpg alt="Paysage a la Côte Saint-Andre (1886) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>SSL/TLS Handshake, Hybrid Encryption and Public Key Infrastructure (PKI)</h2></header><div class=entry-content><p>Hybrid Encryption: Symmetric and Asymmetric Encryption Combined Both symmetric and asymmetric encryption has advantages and disadvantages. So, which one should we use? Well, nowadays we often use them together. Asymmetric encryption is often used to exchange private keys between parties securely. In other words, parties who would communicate establish an asymmetric encryption protocol in the beginning just to exchange private keys. When the private key exchange is completed, they keep communicating by using symmetric encryption - which is faster than asymmetric encryption....</p></div><footer class=entry-footer><span title='2022-01-22 14:00:33 +0200 +0200'>January 22, 2022</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to SSL/TLS Handshake, Hybrid Encryption and Public Key Infrastructure (PKI)" href=https://www.serhatdundar.com/posts/ssl-tls-handshake-hybrid-encryption/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/symmetric-and-asymmetric-encryption/assets/rue-a-saint-parize-le-chatel-pres-de-nevers-1862-johan-barthold-jongkind.jpg alt="Rue A Saint-Parize-Le-Chatel, Pres De Nevers (1862) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Symmetric and Asymmetric Encryption</h2></header><div class=entry-content><p>Symmetric Encryption (Private Key Cryptography) In symmetric encryption only a single key, in other words, a private key is used to encrypt and decrypt a message. Symmetric encryption is also known as “Private Key Cryptography” as the whole encryption is only based on a private key.
Some popular symmetric encryption algorithms are:
Algorithm Cipher Key Size Block/State Size Popularity Notes AES Block 128, 192, or 256 bits 128 bits 1 The best one....</p></div><footer class=entry-footer><span title='2022-01-21 14:00:33 +0200 +0200'>January 21, 2022</span>&nbsp;·&nbsp;13 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Symmetric and Asymmetric Encryption" href=https://www.serhatdundar.com/posts/symmetric-and-asymmetric-encryption/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/canary-aws-lambda-deployments/assets/la-campagne-nivernaise-1873-johan-barthold-jongkind.jpg alt="La Campagne Nivernaise (1873) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Canary AWS Lambda Deployments</h2></header><div class=entry-content><p>Lambdas aren’t easy. This isn’t just a provocative start, but instead my overall experience planning, creating, and deploying them.
Let’s be honest, making something up and running requires plenty of AWS knowledge. One might get lost easily even inside IAM alone.
IAM groups, IAM users, IAM roles, IAM group policy attachments, IAM policy documents, IAM role policies - and how they connect is confusing enough considering what Lambda promises, simplicity. And this is just IAM....</p></div><footer class=entry-footer><span title='2021-06-14 22:50:45 +0200 CEST'>June 14, 2021</span>&nbsp;·&nbsp;10 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Canary AWS Lambda Deployments" href=https://www.serhatdundar.com/posts/canary-aws-lambda-deployments/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/book-review-the-design-of-web-apis/assets/cart-on-the-beach-at-etretat-1862-johan-barthold-jongkind.jpg alt="Cart on the Beach at Etretat (1862) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Book Review: The Design of Web APIs</h2></header><div class=entry-content><p>Title: The Design of Web APIs ISBN: 9781617295102 Publisher: Manning WWW: https://www.manning.com/books/the-design-of-web-apis Pages: 389 I recently had a chance to read “The Design of Web APIs” from Manning Publishing. The book is inspired by “The Design of Everyday Things”, the legendary writing of Donald Norman, that I still own as an original hard-copy printed in 1990. I like this masterpiece not because I studied Donald Norman quite a lot during my PhD studies (especially during the Human-Computer Interaction course), but also it’s still very relevant writing....</p></div><footer class=entry-footer><span title='2021-05-02 20:10:16 +0200 CEST'>May 2, 2021</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Book Review: The Design of Web APIs" href=https://www.serhatdundar.com/posts/book-review-the-design-of-web-apis/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/packing-js-projects-for-aws-lambda-with-grunt/assets/le-spui-a-la-haye-1868-johan-barthold-jongkind.jpg alt="Le Spui A La Haye (1868) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Packing JS projects for AWS Lambda with Grunt</h2></header><div class=entry-content><p>Grunt is a Javascript task runner. It automates repetitive tasks like minification, compilation, unit testing, linting, etc. So it’s also quite useful for packing JS projects for AWS Lambda.
Install the CLI globally:
npm install -g grunt-cli Add it to the package.json:
npm install grunt --save-dev The Gruntfile.js or Gruntfile.coffee file is a valid JavaScript or CoffeeScript file that belongs in the root directory of your project.
A Gruntfile is comprised of the following parts:...</p></div><footer class=entry-footer><span title='2020-05-02 20:40:46 +0200 CEST'>May 2, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Packing JS projects for AWS Lambda with Grunt" href=https://www.serhatdundar.com/posts/packing-js-projects-for-aws-lambda-with-grunt/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/rails-and-postgresql-types/assets/notre-dame-of-paris-seen-from-the-quai-de-la-tournelle-1863.jpg alt="Notre Dame of Paris seen from the Quai de la Tournelle (1863) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Rails and PostgreSQL: Types</h2></header><div class=entry-content><p>During nokul we’ve heavily implemented PostgreSQL features into our Rails application. Unfortunately, ActiveRecord doesn’t come with constraint support for PostgreSQL, but rein does a fantastic job covering what’s missing in ActiveRecord. We believe that, one shouldn’t rely on a web application, that is very prone for human-error, when it comes to data integrity. Therefore our PostgreSQL tables included various constraints and limits.
Below you will find a set of rules that we’ve investigated, implemented and battle tested with various types....</p></div><footer class=entry-footer><span title='2018-11-09 19:24:20 +0200 +0200'>November 9, 2018</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Rails and PostgreSQL: Types" href=https://www.serhatdundar.com/posts/rails-and-postgresql-types/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/rails-and-postgresql-constraints/assets/le-treport-le-matin-normandie-1852-johan-barthold-jongkind.jpg alt="Le Treport, Le Matin, Normandie (1852) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Rails and PostgreSQL: Constraints</h2></header><div class=entry-content><p>During nokul we’ve heavily implemented PostgreSQL features into our Rails application. Unfortunately, ActiveRecord doesn’t come with constraint support for PostgreSQL, but rein does a fantastic job covering what’s missing in ActiveRecord. We believe that, one shouldn’t rely on a web application, that is very prone for human-error, when it comes to data integrity. Therefore our PostgreSQL tables included various constraints and limits.
Below you will find a set of rules that we’ve investigated, implemented and battle tested with various types....</p></div><footer class=entry-footer><span title='2018-11-03 15:24:20 +0200 +0200'>November 3, 2018</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Rails and PostgreSQL: Constraints" href=https://www.serhatdundar.com/posts/rails-and-postgresql-constraints/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/tuning-postgresql-configuration/assets/the-church-of-overschie-1866-johan-barthold-jongkind.jpg alt="The Church of Overschie (1866) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Tuning PostgreSQL Configuration</h2></header><div class=entry-content><p>Configuration File RAM amounts defined below doesn’t represent the total amount of memory available for your machine, instead, it represents what PostgreSQL can use maximum. Decribed configuration requires PostgreSQL >= 10. Remove max_parallel_workers for older versions. The configuration file is usually located at /etc/postgresql/$VERSION/main/postgresql.conf in Debian-derivatives. For locating the file in other operating systems, you can use psql as follows:
psql -U postgres show config_file; Tracking Query Statistics Enable the pg_stat extension, if you are interested in tracking query statistics:...</p></div><footer class=entry-footer><span title='2018-11-02 11:16:48 +0200 +0200'>November 2, 2018</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Tuning PostgreSQL Configuration" href=https://www.serhatdundar.com/posts/tuning-postgresql-configuration/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/encrypting-sensitive-data-with-rails/assets/landscape-with-man-on-a-donkey-1849-johan-barthold-jongkind.jpg alt="Landscape with Man on a Donkey (1849) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Encrypting Sensitive Data With Rails</h2></header><div class=entry-content><p>The most recent versions (5.1 and 5.2) of Ruby on Rails has shipped with a new feature named as encrypted credentials which replaces the secrets.yml, and enables you to keep sensitive data in an encrypted file named as config/credentials.yml.enc.
However, this feature only works with a single file that is config/credentials.yml.enc. Recently we needed to add some data in our repository, which we wanted to keep as encrypted, but that also didn’t really fit into the credentials....</p></div><footer class=entry-footer><span title='2018-10-01 09:33:06 +0200 CEST'>October 1, 2018</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Encrypting Sensitive Data With Rails" href=https://www.serhatdundar.com/posts/encrypting-sensitive-data-with-rails/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/rails-instantiated-fixtures/assets/notre-dame-vue-du-quai-de-la-tournelle-1852-johan-barthold-jongkind.jpg alt="Notre-Dame vue du quai de la Tournelle (1852) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Rails Instantiated Fixtures</h2></header><div class=entry-content><p>Here is a sample Ruby on Rails fixture named as newsletter:
newsletter: name: foo message: bar first_name: foo last_name: bar There are two popular ways to use this fixture in your Rails tests. The first one is directly calling the name of fixture file, followed by a symbol stating the name of any individual fixture:
class NewsletterTest &lt; ActiveSupport::TestCase test 'a sample test' do assert newsletters(:newsletter).valid? end end And the other one is assigning fixtures to an instance variable in the setup block:...</p></div><footer class=entry-footer><span title='2017-05-03 18:52:34 +0200 CEST'>May 3, 2017</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Rails Instantiated Fixtures" href=https://www.serhatdundar.com/posts/rails-instantiated-fixtures/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/import-big-mysql-databases-faster/assets/le-chateau-de-virieu-sur-bourbre-isere-1877-johan-barthold-jongkind.jpg alt="Le Chateau De Virieu-Sur-Bourbre, Isere (1877) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Import Big MySQL Databases Faster</h2></header><div class=entry-content><p>I recently had to import some quite large SQL dumps to my local machine for data analysis purposes. There were 10 different .sql dumps in total, and each of them were sized more than 100GB.
Naive Attempt First of all, I tried to import each by using the &lt; operator:
mysql some_database &lt; some_dump.sql Unsurprisingly, each task took very long to finish, approximately 6-7 hours per dump file, in a brand new laptop with i7 CPU, 16GB RAM and 1TB SSD....</p></div><footer class=entry-footer><span title='2017-04-05 11:44:19 +0200 CEST'>April 5, 2017</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Import Big MySQL Databases Faster" href=https://www.serhatdundar.com/posts/import-big-mysql-databases-faster/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/running-rake-tasks-in-a-loop/assets/ornacieux-1879-johan-barthold-jongkind.jpg alt="Ornacieux (1879) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Running Rake Tasks in a Loop</h2></header><div class=entry-content><p>Rake tasks in a loop, will only executed once if they are not “re-enabled”. Take a look at this example:
namespace :yoksis do desc 'fetches all references' task :references do mapping = { get_instruction_language: 'UnitInstructionLanguage', get_instruction_type: 'UnitInstructionType' } mapping.each do |action, klass| Rake::Task['yoksis:reference'].invoke(action, klass) end end desc 'fetch an individual reference' task :reference, %i[soap_method klass] => [:environment] do |_, args| puts args[:soap_method] puts args[:klass] end end When you run the yoksis:references task, it will only print out {get_instruction_language: 'UnitInstructionLanguage'} and will skip the second item of the mapping hash....</p></div><footer class=entry-footer><span title='2017-04-03 01:46:33 +0200 CEST'>April 3, 2017</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Running Rake Tasks in a Loop" href=https://www.serhatdundar.com/posts/running-rake-tasks-in-a-loop/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/using-has-many-through-for-nested-relations-in-rails/assets/the-towpath-1864-johan-barthold-jongkind.jpg alt="The Towpath (1864) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Using has_many :through for Nested Relations in Rails</h2></header><div class=entry-content><p>has_many :through is a useful association type of Rails. It’s mostly popular and often used as a join model for many-to-many relations.
However, has_many :through is more than a simple join model, because it conducts INNER JOIN(s) on related models. We can also take the advantage of this behaviour on nested has_many relations. Lets imagine a scenario where we have a nested has_many structure as follows:
Country (has_many :regions) -> Region (has_many :cities) -> City (has_many :districts) -> District Models and tables of the structure:...</p></div><footer class=entry-footer><span title='2016-08-20 21:19:04 +0200 CEST'>August 20, 2016</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Using has_many :through for Nested Relations in Rails" href=https://www.serhatdundar.com/posts/using-has-many-through-for-nested-relations-in-rails/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/boolean-type-words-in-yaml/assets/environs-de-grenoble-1873-johan-barthold-jongkind.jpg alt="Environs de Grenoble (1873) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Boolean Type Words in YAML</h2></header><div class=entry-content><p>YAML is a widely used data serialization language. In almost any software project, or during any dev-ops tasks, you can come across with YAML. For example Ruby on Rails uses YAML for fixtures, configuration files and localization. CI/CD tools such as CircleCI and Travis also use YAML for configuration. If you ever experienced a strange behaviour with YAML, you may have used one of the many reserved words of YAML. YAML reserves some words such as ‘yes’, ’no’, ‘y’, ’n’, ‘off’, ‘on’, etc....</p></div><footer class=entry-footer><span title='2016-06-07 09:10:16 +0200 CEST'>June 7, 2016</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Boolean Type Words in YAML" href=https://www.serhatdundar.com/posts/boolean-type-words-in-yaml/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://www.serhatdundar.com/posts/calculating-similarity-between-two-data-with-ruby-and-elasticsearch/assets/halage-en-hollande-1867-johan-barthold-jongkind.jpg alt="Halage En Hollande (1867) - Johan Barthold Jongkind"></figure><header class=entry-header><h2>Calculating Similarity Between Two Data With Ruby and Elasticsearch</h2></header><div class=entry-content><p>I recently had to find similar data located in a dataset, in order to find potential duplicate records:
"John Doe 123456789" "John Foe 123123123" After considering a couple of options, I’ve decided to continue with Elasticsearch, as it was already integrated in the project I was working on. The Ruby client of Elasticsearch provided a useful function on search results, records.each_with_hit, that I could abuse for this situation:
file = File....</p></div><footer class=entry-footer><span title='2015-12-08 19:04:50 +0200 +0200'>December 8, 2015</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Serhat M. Dündar</footer><a class=entry-link aria-label="post link to Calculating Similarity Between Two Data With Ruby and Elasticsearch" href=https://www.serhatdundar.com/posts/calculating-similarity-between-two-data-with-ruby-and-elasticsearch/></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://www.serhatdundar.com/>Blog of Serhat M. Dündar | Ruby, Rails, Golang, PostgreSQL, AWS, Security</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>